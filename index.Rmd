---
title: "Estat√≠stica para jornalistas"
author: "Renata Hirota | Maria Marinho"
date: "Congresso Abraji 2020"
output: 
  xaringan::moon_reader:
    css: ["rladies", "rladies-fonts", "ninjutsu", "css/extra.css"]
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, warning = FALSE, message = FALSE)
library(dplyr)
library(ggplot2)
```

# Quem somos

.pull-left[
```{r out.width = "220", fig.align = "left", echo = FALSE}
knitr::include_graphics("imgs/renata.jpg")
```
]

.pull-right[
**Renata Hirota** √© jornalista de dados, formada na ECA-USP e graduanda em estat√≠stica no IME-USP. Lida com dados desde 2017 e atualmente trabalha na Associa√ß√£o Brasileira de Jurimetria. Colabora tamb√©m com o N√∫cleo Jornalismo e Science Pulse, iniciativa do Volt Data Lab que visa aproximar jornalistas e cientistas. Faz parte da comunidade R-Ladies S√£o Paulo, que promove a diversidade de g√™nero na comunidade da linguagem de programa√ß√£o R.


`r anicon::faa("github", animate="vertical")`Github: [rmhirota](https://github.com/rmhirota)  
`r anicon::faa("twitter", animate="float")`Twitter: [@renata_mh](https://twitter.com/renata_mh)
]

---
# Quem somos

.pull-left[
```{r out.width = "220", fig.align = "right", echo = FALSE}
knitr::include_graphics("imgs/maria_marinho.jpg")
```
]

.pull-right[
**Maria Marinho** √© formada em Processamento de Dados, bacharela e licenciada em Matem√°tica com √™nfase em Inform√°tica, p√≥s graduada em Educa√ß√£o Matem√°tica. Atuou na √°rea de TI como Desenvolvedora de Sistemas e atualmente √© Cientista de Dados na SulAm√©rica. Faz parte das comunidades R-Ladies e PyLadies S√£o Paulo.

`r anicon::faa("at", animate="float")`Email: mariamarinhos@gmail.com  
`r anicon::faa("github", animate="vertical")`Github: [MaryMS](https://github.com/MaryMS)
]

---
# R-Ladies

## O que √©?

R-Ladies √© uma organiza√ß√£o mundial que promove a diversidade de g√™nero na comunidade da linguagem R.

## Como?

Atrav√©s de meetups e mentorias em um ambiente seguro e amig√°vel.

Nosso principal objetivo √© promover a linguagem computacional estat√≠stica R compartilhando conhecimento, assim, quem tiver interesse na linguagem ser√° bem-vinda, independente do n√≠vel de conhecimento.

---
# R-Ladies

## Para quem?

Nosso principal p√∫blico-alvo s√£o as pessoas que se identificam com o g√™nero feminino, portanto, mulheres cis, mulheres trans, bem como pessoas n√£o-bin√°rias e queer.

## Miss√£o

Como uma iniciativa de diversidade, a miss√£o das R-Ladies √© alcan√ßar uma representa√ß√£o proporcional de pessoas de g√™neros atualmente sub-representados na comunidade R, incentivando, inspirando e capacitando-as.

  
  
[About us - R-Ladies](https://rladies.org/about-us/)  
[Meetup R-Ladies S√£o Paulo](https://www.meetup.com/rladies-sao-paulo/)
---

background-image: url(imgs/rladies.png)
background-size: contain

---

# Sobre o que vamos falar


- Por que √© importante?
- M√©dia, mediana e moda
- Porcentagem e taxas
- Tipos de Dados
- Tipos de Gr√°ficos
- Infer√™ncia: popula√ß√£o e amostra
- Armadilhas com dados
- Boas pr√°ticas gerais


---
background-image: url(imgs/calvin.png)
background-size: contain

# Por que √© importante?

---
# Por que √© importante?

- √â f√°cil chegar a conclus√µes falsas a partir de dados reais
- Pode mudar completamente seu lide
- Ajuda a escrever de forma mais clara

---
background-image: url(imgs/covid.jpeg)
background-size: contain

---
class: inverse
background-image: url(imgs/media_movel.png)

# M√©dia, mediana e moda

---
# M√©dia, mediana e moda

### O que significa m√©dia?


pessoa m√©dia?  
sal√°rio m√©dio?  
  
  
√Äs vezes, usamos a palavra **m√©dia**, mas os conceitos mais adequados √† situa√ß√£o s√£o **mediana** ou **moda**.

---

# M√©dia, mediana e moda

**M√©dia**: Soma de todos os valores dividida pela quantidade. √â mais sens√≠vel a valores extremos.

**Mediana**: Divide os dados na metade. Metade dos valores √© menor que a mediana (e metade √© maior).

**Moda**: Valor mais comum. Um conjunto de dados pode ter mais de uma moda.

---
# M√©dia, mediana e moda

**M√©dia m√≥vel**: M√©dia utilizada em s√©ries temporais que considera uma janela "m√≥vel" para fazer o c√°lculo. 

```{r echo = FALSE, fig.width = 10, fig.height = 5}
da <- data.table::fread("dados/covid_uf.csv")
da %>% 
  filter(state == "SP", date >= "2020-06-01") %>% 
  mutate(ma_7 = zoo::rollmean(new_deaths, k = 7, fill = NA, align = "right")) %>% 
  ggplot() +
  geom_point(aes(x = date, y = new_deaths)) +
  geom_line(aes(x = date, y = new_deaths)) +
  geom_point(aes(x = date, y = ma_7, colour = "m√©dia m√≥vel")) +
  geom_line(aes(x = date, y = ma_7, colour = "m√©dia m√≥vel")) +
  labs(x = "data", y = "mrotes por dia", title = "Mortes por covid-19 em SP") +
  theme_minimal() +
  theme(legend.title = element_blank())

```

---


background-image: url(imgs/mean.jpg)
background-size: contain

---

background-image: url(imgs/mean2.jpg)
background-size: contain

---
background-image: url(imgs/median.png)
background-size: contain

---
background-image: url(imgs/median2.png)
background-size: contain
---
background-image: url(imgs/mode.png)
background-size: contain

---
background-image: url(imgs/mode2.png)
background-size: contain
---
class: inverse
background-image: url(imgs/prop.png)
background-size: contain

# Porcentagens e taxas

---
# Porcentagens e taxas

- Compara√ß√£o de quantidades
- Crescimento ao longo do tempo
- Porcentagem $\neq$ pontos percentuais

--

<br><br>
A diferen√ßa entre porcentagem e ponto percentual √© confusa quando a quantidade que estamos medindo em si √© uma porcentagem.

Por exemplo: **_Aprova√ß√£o de Bolsonaro caiu de 52% para 36%_**

- A diferen√ßa √© de 16 pontos percentuais $(52 - 36 = 16)$
- Mas a diminui√ß√£o √© de 30,8%, pois $\frac{36 - 52}{52} = -0,308$

---
background-image: url(imgs/tipos_dados.jpg)
background-size: contain

# Tipos de Dados

---
# Gr√°ficos

Gr√°ficos s√£o representa√ß√µes visuais que t√™m como objetivo a apresenta√ß√£o dos dados, sejam eles categ√≥ricos ou num√©ricos. Eles facilitam a visualiza√ß√£o e an√°lise de dados.

---
# Gr√°ficos
<img src="imgs/graf_taxa_selic.jpg" style="width: 98%" /><br>

---

# Tipos de Gr√°ficos

- Barras
- Linhas
- Dispers√£o
- Histograma
- Boxplot
- Pizza, n√£o!

√â importante escolher o gr√°fico adequado ao p√∫blico e ao dado que ser√° visualizado.

---
# Gr√°fico de Barras (ou colunas)

√â utilizado para resumir um conjunto de dados categ√≥ricos, comparando quantidades ou demostrando valores pontuais de um determinado per√≠odo.

- Ele mostra os dados utilizando um n√∫mero de barras de mesmo tamanho. O que as diferenciam s√£o suas alturas que representam as frequ√™ncias das categorias.

- O eixo x mostra os valores da vari√°vel e o eixo y, as respectivas frequ√™ncias.

- Pode ser representado na vertical ou na horizontal.

---
# Gr√°fico de Barras (ou colunas)

<img src="imgs/graf_obitos_covid.jpg" style="width: 98%, height: 60%" /><br>

---
# Gr√°fico de Barras (ou colunas)
<img src="imgs/graf_vendas_varejo.jpg" style="width: 98%" /><br>

---
# Gr√°fico de Linhas

Ele √© usado para analisar dados ao longo do tempo. √â muito utilizado para representar tend√™ncias nos dados quantitativos, pois mostra o crescimento ou decrescimento de um fen√¥meno/processo em um determinado per√≠odo (s√©ries temporais).

O eixo x representa o tempo (anos, meses, dias, etc.) e o eixo y mostra o outro dado em quest√£o.

---
# Gr√°fico de Linhas

<img src="imgs/graf_casos_covid_worldmeters.jpg" style="width: 98%" /><br>

---
# Gr√°fico de Dispers√£o (ou scatterplot)

√â √∫til para analisar a rela√ß√£o entre duas vari√°veis quantitativas. Uma delas √© a vari√°vel independente X (causa) e a outra, uma vari√°vel dependente Y (efeito).

- O conjunto de pares ordenados forma uma nuvem de pontos.

- O diagrama n√£o prova que uma vari√°vel afeta outra vari√°vel, mas indica se existe rela√ß√£o e qual a intensidade da rela√ß√£o entre elas (positiva, negativa, nula). 

---
# Gr√°fico de Dispers√£o (ou scatterplot)

<img src="imgs/graph_covid_income.jpg" style="width: 98%" /><br>

---
# Histograma

Permite representar visualmente a distribui√ß√£o de frequ√™ncia dos dados (quantitativos cont√≠nuos).

- Apresenta v√°rios ret√¢ngulos justapostos (barras verticais). Embora tenha semelhan√ßas com o gr√°fico de barras, o histograma n√£o apresenta espa√ßo entre as colunas.

- √â um importante indicador para a an√°lise da distribui√ß√£o dos dados.

---
# Histograma

<img src="imgs/hist_media_enem.jpg" style="width: 98%" /><br>

---
# Boxplot (ou gr√°fico de caixa)

√â utilizado para avaliar a distribui√ß√£o de dados quantitativos. 

- Mostra as seguintes medidas estat√≠sticas: mediana, primeiro quartil, terceiro quartil, menor valor e maior valor. 

- Ajuda na visualiza√ß√£o do centro, dispers√£o e assimetria dos dados analisados. 

- Identifica outliers (valores extremos).

- √â poss√≠vel realizar compara√ß√µes visuais entre dois ou mais grupos.

---
# Boxplot (ou gr√°fico de caixa)

<img src="imgs/boxplot.jpg" style="width: 98%" /><br>

---
# Boxplot (ou gr√°fico de caixa)

<img src="imgs/boxplot_covid.jpg" style="width: 98%" /><br>

---
# Gr√°fico de Pizza, n√£o!

√â um gr√°fico onde os valores de cada categoria estat√≠stica representada s√£o proporcionais √†s respectivas frequ√™ncias.

- Por que n√£o utiliz√°-lo? 
Observe o gr√°fico.

A maioria das pessoas concordar√° que "Supplier B", representado em azul m√©dio no canto inferior direito, parece ser o maior. Se voc√™ tivesse que estimar que propor√ß√£o o supplier B comp√µe do mercado geral, qual porcentagem voc√™ estimaria? 

35%? 

40%?

---
# Gr√°fico de Pizza, n√£o!

<img src="imgs/pizza1.jpg" style="width: 98%" /><br>

---
# Gr√°fico de Pizza, n√£o!

<img src="imgs/pizza2.jpg" style="width: 98%" /><br>

---
# Gr√°fico de Pizza, n√£o!

- O "Supplier B" - que parece o maior, com 31% - √© realmente menor do que o "Supplier A" acima dele, que parece menor.

- Mesmo quando retiramos o 3D e achatamos o bolo, os desafios de interpreta√ß√£o permanecem. 

- O olho humano n√£o √© bom em atribuir valor quantitativo ao espa√ßo bidimensional. 

- Concluindo: os gr√°ficos de pizza s√£o dif√≠ceis de ler. 

- Sugest√£o: substituir o gr√°fico de pizza por um gr√°fico de barra horizontal organizado do maior para o menor ou vice-versa. 


---
# Gr√°fico de Pizza, n√£o!

<img src="imgs/alternativa_pizza.jpg" style="width: 98%" /><br>

---
# Extra: Ferramentas para cria√ß√£o de gr√°ficos
<img src="imgs/Python_R_logo.jpg" style="width: 98%" /><br>

- Linguagens de Programa√ß√£o: R (ggplot2, plotly) e Python (matplotlib, seaborn, boukeh, plotly)

- Ferramenta online: [Flourish](https://flourish.studio)

---

# Extra: Dicas para melhor se comunicar com os dados
 
1. Entenda o contexto
2. Escolha uma apresenta√ß√£o visual adequada
3. Elimine a satura√ß√£o
4. Foque a aten√ß√£o onde voc√™ deseja
5. Pense como um designer
6. Conte uma hist√≥ria

Essa lista e a reflex√£o sobre o gr√°fico de pizza foram retirados do livro Storytelling With Data da autora Cole Nussbaumer Knaflic.

Os sites abaixo podem ajudar na escolha do gr√°fico mais adequado para o seu dado:

- [From Data to Viz](https://www.data-to-viz.com)
- [Data Viz Project](https://datavizproject.com)
- [The Data Visualisation Catalogue](https://datavizcatalogue.com)

---
# Infer√™ncia: popula√ß√£o e amostra
.center[![](imgs/sopa.jpg)]

---
# Infer√™ncia: popula√ß√£o e amostra

#### Amostra: subconjunto de uma popula√ß√£o
#### Popula√ß√£o: basicamente todo mundo
  
Conclus√µes a partir da amostra extrapoladas √† popula√ß√£o - incerteza
.center[![](imgs/inferencia.png)]


---
class: inverse, middle, center
# Armadilhas com dados

.center[![](imgs/correlation.png)]

---

# Armadilhas com dados

## Causalidade?

- √â f√°cil chegar a conclus√µes n√£o necessariamente verdadeiras
- Causalidade: se duas coisas est√£o relacionadas, uma influencia a outra? Causa e efeito?

---
## Causalidade?

<img src="imgs/correl.png" style="width: 98%" /><br>

---
## Causalidade?

<img src="imgs/correl2.png" style="width: 98%" /><br>

---
## Causalidade?

<img src="imgs/correl3.png" style="width: 98%" /><br>
Mais aqui: [Spurrious Correltions](http://tylervigen.com/spurious-correlations)

---
## Causalidade?

Nem sempre √© t√£o √≥bvio. Na vida real, √© _muito_ mais sutil.

.center[![](imgs/voto-violencia.png)]

---
class: middle

_Ao ser apresentado a esses cruzamentos, o cientista pol√≠tico Guilherme Russo, da Funda√ß√£o Getulio Vargas, resolveu aprofundar a an√°lise com compara√ß√µes apenas entre munic√≠pios de uma mesma regi√£o. Nesse exerc√≠cio, Russo constatou que, considerando s√≥ o conjunto dos munic√≠pios do Norte e do Nordeste, Bolsonaro apresentou uma tend√™ncia de ir progressivamente melhor nas √°reas mais violentas. "Sugere que, numa an√°lise geral, mais macro, a quest√£o regional foi mais importante na determina√ß√£o do voto do que a da viol√™ncia", afirmou._
  
  
[Bolsonaro vai pior nos locais mais violentos - Valor Econ√¥mico](https://www.valor.com.br/node/5914559)

---
## Fal√°cia ecol√≥gica: conclus√µes sobre indiv√≠duos a partir de grupos


<iframe width="760" height="415" src="https://www.youtube.com/embed/RmYIpnzbQtM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

---
class: inverse, middle, center

# Algumas boas pr√°ticas

---
## **Olhe** os dados

<img src="imgs/ascombe.png" style="width: 85%" /><br>
Quarteto de Ascombe

---
## **Olhe** os dados

<blockquote class="twitter-tweet"><p lang="en" dir="ltr">Always visualize your data! (Thanks to <a href="https://twitter.com/AlbertoCairo?ref_src=twsrc%5Etfw">@albertocairo</a> for the artwork üòÄ) <a href="https://t.co/8D8sgLLqB5">pic.twitter.com/8D8sgLLqB5</a></p>&mdash; Justin Matejka (@JustinMatejka) <a href="https://twitter.com/JustinMatejka/status/770682771656368128?ref_src=twsrc%5Etfw">August 30, 2016</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> 


---
## Pense na **distribui√ß√£o**

[O seu sal√°rio diante da realidade brasileira](https://www.nexojornal.com.br/interativo/2016/01/11/O-seu-sal%C3%A1rio-diante-da-realidade-brasileira)

<img src="imgs/nexo.png" style=" display: block; margin-left: auto; margin-right: auto;"></img>

- D√° ideia da distribui√ß√£o de sal√°rios
- Compara valores individuais, e n√£o valores resumidos (m√©dia)
---

## Evite confus√£o

[Em cinco dias, PM mata na Grande SP mais do que a m√©dia di√°ria no estado](https://noticias.uol.com.br/cotidiano/ultimas-noticias/2019/04/03/em-cinco-dias-pm-mata-na-grande-sp-mais-do-que-a-media-diaria-no-estado.htm)
<img src="imgs/uol-pm.png" height="500" style=" display: block; margin-left: auto; margin-right: auto;"></img>
  
---
## Evite confus√£o

As compara√ß√µes s√£o equivalentes?
  
--

- No t√≠tulo, d√° a impress√£o de estar comparando a soma de mortes de 5 dias (16) com a m√©dia di√°ria (2 por dia)
- Compara√ß√£o da m√©dia de 5 dias com a m√©dia de um trimestre
- Popula√ß√µes diferentes (Grande SP vs. estado de SP)

---
## Evite confus√£o

 Gr√°ficos ajudam!

```{r fig.height=6, fig.width=10, fig.align="center", echo=F}
da <- tibble::tibble(
  data = as.Date(c("2018-01-01", "2018-02-01", "2018-03-01", "2019-01-01", "2019-02-01", "2019-03-01")),
  mortes = c(61, 59, 52, 67, 52, 76)
) %>% 
  dplyr::mutate(
    ano = lubridate::year(data),
    mes = lubridate::month(data)
  )

da %>% 
  mutate(ano = as.factor(ano), mes = as.factor(mes)) %>% 
  ggplot(aes(x = mes, y = mortes, fill = ano, group = ano)) +
  geom_col(position = "dodge") +
  labs(title = "Mortos pela PM em SP", x = "") +
  theme_minimal() +
  scale_x_discrete(labels=c("1" = "janeiro", "2" = "fevereiro", "3" = "mar√ßo")) +
  scale_fill_viridis_d(begin = 0.1, end = 0.6)

```

---
# Resumindo

- Se for resumir seus dados, veja o que faz mais sentido: m√©dia? mediana?
- Verifique qual o _tipo_ dos seus dados e que gr√°ficos s√£o mais adequados
- Pense no contexto dos dados: s√£o uma amostra? Qual a incerteza associada?
- Os dados permitem fazer extrapola√ß√µes?
- An√°lise explorat√≥ria

---

# Refer√™ncias
- [Khan Academy - Estat√≠stica e Probabilidade](https://pt.khanacademy.org/math/statistics-probability)
- [Curso STAT 414, da Penn State](https://onlinecourses.science.psu.edu/stat414/)
- [The Curious Journalist's Guide to Data, Jonathan Stray](https://towcenter.gitbooks.io/curious-journalist-s-guide-to-data/)
- [Statistics every writer should know](https://www.robertniles.com/stats/)

---
class: inverse, middle, center

# Obrigada!

**Renata Hirota**

`r anicon::faa("github", animate="vertical")`Github: [rmhirota](https://github.com/rmhirota)<br>
`r anicon::faa("twitter", animate="float")`Twitter: [@renata_mh](https://twitter.com/renata_mh)<br><br>

**Maria Marinho**

`r anicon::faa("at", animate="vertical")`Email: mariamarinhos@gmail.com<br>
`r anicon::faa("github", animate="vertical")`Github: [MaryMS](https://github.com/MaryMS)
